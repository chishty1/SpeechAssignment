#N canvas 0 22 514 303 10;
#X msg 116 136 clear;
#X obj 116 108 bang~;
#X obj 168 197 snapshot~;
#X obj 116 197 print~;
#X obj 116 172 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 169 22 inlet~;
#X obj 168 230 outlet;
#X obj 24 23 loadbang;
#X msg 24 50 set 1024 2 1;
#X obj 24 77 block~;
#X obj 168 50 *~ 1e+06;
#X obj 168 78 clip~ -1 1;
#X obj 167 107 fexpr~ -$x1*$x1[-1];
#X obj 167 135 clip~ 0 1;
#X obj 168 166 fexpr~ $x1+$y[-1];
#X text 232 49 <= multiply by a very large number;
#X text 238 78 <= clip to create a square wave;
#X text 288 106 <= multiply adjacent samples;
#X text 229 196 <= grab the count;
#X text 246 121 (each '1' indicates a zero-crossing);
#X text 227 135 <= remove all the '-1's;
#X text 279 166 <= count the remaining '1's;
#X connect 0 0 14 0;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 10 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 2 0;
#X connect 14 0 3 0;
